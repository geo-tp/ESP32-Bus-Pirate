<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>ESP32 Bus Pirate Flasher</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <!-- ESP Web Tools -->
  <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
</head>
<body>
  <div class="wrap">
    <!-- Title -->
    <pre class="ascii-title" aria-hidden="true">
  ____              ____  _           _         _____ _           _               
 | __ ) _   _ ___  |  _ \(_)_ __ __ _| |_ ___  |  ___| | __ _ ___| |__   ___ _ __ 
 |  _ \| | | / __| | |_) | | '__/ _` | __/ _ \ | |_  | |/ _` / __| '_ \ / _ \ '__|
 | |_) | |_| \__ \ |  __/| | | | (_| | ||  __/ |  _| | | (_| \__ \ | | |  __/ |   
 |____/ \__,_|___/ |_|   |_|_|  \__,_|\__\___| |_|   |_|\__,_|___/_| |_|\___|_|   

                      Online tool to flash the firmware to your ESP32-S3                                                                                                                                                  
    </pre>

    <!-- Boards -->
    <h3>Boards</h3>
    <div id="boards" class="boards-grid" role="listbox" aria-label="Choose a board">
      <button class="card" data-key="cardputeradv">Cardputer ADV</button>
      <button class="card" data-key="cardputer">Cardputer</button>
      <button class="card" data-key="stamps3">Stamp-S3</button>
      <button class="card" data-key="atoms3lite">Atom-S3 Lite</button>
      <button class="card" data-key="sticks3">Stick-S3</button>
      <button class="card" data-key="s3devkit">ESP32-S3 DevKit</button>
      <button class="card" data-key="tembed">T-Embed</button>
      <button class="card" data-key="tembedcc1101">T-Embed CC1101</button>
      <button class="card" data-key="xiaoesp32s3">Xiao ESP32-S3</button>
      <button class="card" data-key="s3devkitn16r8">ESP32-S3 N16R8</button> 
    </div>

    <!-- Flash -->
    <div class="flash-area">
      <esp-web-install-button id="flashEl">
        <button id="flashBtn" class="flash-btn" slot="activate" disabled>âš¡ Flash</button>
        <span slot="unsupported">Browser doesn't support Web Serial.</span>
        <span slot="not-allowed">Needs HTTPS (or localhost).</span>
      </esp-web-install-button>
      <small id="flashHint" class="muted">Select a board above.</small>
    </div>

    <!-- Tips -->
    <h3>Tips</h3>
    <section class="tips-grid">
      <div class="tip-card"><h4>Cardputer</h4><p>Power off and unplug USB. Hold <b>G0</b> (upper-right), then plug USB while still holding.</p></div>
      <div class="tip-card"><h4>Stamp-S3</h4><p>Press and hold the <b>BOOT</b> button <i>before</i> powering on or plugging in USB to enable flashing mode.</p></div>
      <div class="tip-card"><h4>Atom-S3 Lite</h4><p>Power on and press the <b>RESET</b> button for 3 seconds or until the LED blinks green.</p></div>
      <div class="tip-card"><h4>Stick-S3</h4><p>Long press the <b>POWER</b> button until the LED blinks.</p></div>
      <div class="tip-card"><h4>T-Embed</h4><p>Hold the encoder <b>center button</b>, then press <b>RESET</b>.<br>(CC1101 version: the button is next to the ESP32-S3.)</p></div>
      <div class="tip-card"><h4>S3-Dev-Kit</h4><p>Make sure to plug USB to the COM programming port, hold the <b>BOOT</b> button and power on.</p></div>
      <div class="tip-card"><h4>Xiao-S3</h4><p>Press and hold the <b>BOOT</b> button <i>before</i> powering on or plugging in USB to enable flashing mode.</p></div>
      <div class="tip-card"><h4>Linux Users</h4><p>If flashing fails, run:<br><code>sudo setfacl -m u:$USER:rw /dev/ttyACM0</code><br>This grants access to the serial port.</p></div>
    </section>

  <!-- Wiki link -->
  <footer class="wiki-cta">
    <a href="https://github.com/geo-tp/ESP32-Bus-Pirate/wiki" target="_blank" rel="noopener">
      ðŸ“– Step-by-step guide for every mode and command
    </a>
  </footer>

  <script type="module" src="scripts.js"></script>
</body>
</html>
